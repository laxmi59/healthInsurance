<%= render "layouts/errors", object: @dependent %>
<h1>New Dependent</h1>
<div class="card o-hidden border-0 shadow-lg my-5">
  <div class="card-body p-0">
    <div class="row">
      <div class="col-lg-6">
        <div class="p-5">
          <%= form_for @dependent, class:'user', url: dependents_path do |f| %>
            <div class="form-group">
            <%= f.label 'dependent_name' %><br>
            <%= f.text_field :dependent_name, class:"form-control form-control-user" %>
            <%= f.hidden_field :last_modified_by, :value => Current.user.employee_name %>
            <%= f.hidden_field :created_by, :value => Current.user.employee_name %>
            <%= f.hidden_field :is_active, :value => 1 %>
            <%= f.hidden_field :employee_id, :value => Current.user.id %>
            <%= f.hidden_field :action_type_id, :value => 1 %>
            </div>
            <div class="form-group">
            <%= f.label 'relationship' %><br>
            <%= f.select "relationship_id", options_from_collection_for_select(Relationship.all, "id", "name"), include_blank: 'select', class:"form-control form-control-user" %>
            </div>
            <div class="form-group">
            <%= f.label 'Date of Birth' %><br>
            <%= f.date_field :dob, class:"form-control form-control-user" %>
            </div>

            <div class="form-group">
            <%= f.submit 'Submit', class: "btn btn-primary btn-user btnSub" %>
            <%= link_to "Cancel", dependents_path, class: "btn btn-primary btn-user btnSub" %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- <script type="text/javascript">
  (function() {
    //alert(1);
    jQuery(function() {
      var states;
      //alert(1);
      $("#dependent_cycle_id").parent().hide();
      cycles = $("#dependent_cycle_id").html();
      return $("#dependent_policy_id").change(function() {
        var options, policy;
        policy = $("#dependent_policy_id :selected").text();
        options = $(cycles).filter("optgroup[label='" + policy + "']").html();
        //alert(options)
        if (options) {
          $("#dependent_cycle_id").html(options);
          return $("#dependent_cycle_id").parent().show();
        } else {
          $("#dependent_cycle_id").empty();
          return $("#dependent_cycle_id").parent().hide();
        }
      });
    });

  }).call(this);

</script> -->
